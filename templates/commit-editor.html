<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Commit Editor</title>
  <style>{{styles}}</style>
</head>
<body>
  <div class="commit-editor">
    <h3>Что поменяли?</h3>
    <div class="commit-message">
      <textarea placeholder="Опишите сделанные изменения..." autofocus></textarea>
    </div>
    <div class="actions">
      <button id="cancel">Отменить</button>
      <button id="submit">Отправить</button>
    </div>

    <h3>Изменённые файлы</h3>
    <ul class="file-list">
      {{#each files}}
        <li>{{this}}</li>
      {{/each}}
    </ul>    
  </div>

  <script>
    const vscode = acquireVsCodeApi();
    document.getElementById('submit').addEventListener('click', () => {
      const text = document.querySelector('textarea').value;
      vscode.postMessage({ command: 'submit', text });
    });
    document.getElementById('cancel').addEventListener('click', () => {
      vscode.postMessage({ command: 'cancel' });
    });
  </script>
</body>
</html>
